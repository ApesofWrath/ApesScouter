<%= erb :header %>

<div class="container">
  <h2>Enter New Match Info</h2>
  <form action="/matches" method="POST" id="myForm">
    <label>Name</label>
    <input type="text" name="name" required />

    <label>Team Number</label>
    <input type="number" min=1 max=9999 name="team_number" required />

    <label>Match Number</label>
    <input type="number" min=1 max=99 name="match_number" required />

    <br>

    <h3>Sandstorm</h3>
    <label>Pre Load</label>
    <select name="preload" required>
        <option value="" selected disabled hidden>Select pre-loaded item</option>
        <option value="nothing">Nothing</option>
        <option value="hatch">Hatch</option>
        <option value="cargo">Cargo</option>
    </select>
    
    <label>Hab Cross</label>
    <select name="hab_cross" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
    </select>

    <label>Hab Start</label>
    <select name="hab_start" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="1">Level 1</option>
        <option value="2">Level 2</option>
    </select>

    <br>
    <!-- Sandstorm Hatches and Cargo -->
    <button type=button class="btn btn-info btn-large" onClick="addOne(0)">Hatches:&nbsp;<p id="s_hatches">0</p></button>
    <input type=hidden name="sand_hatches" value="0" id="sand_hatches">
    <button type=button class="btn btn-warning btn-large" onClick="addOne(1)">Cargo:&nbsp;<p id="s_cargo">0</p></button>
    <input type=hidden name="sand_cargo" value="0" id="sand_cargo">

    <br>
    <br>

    <h3>Tele Op</h3>
    <label>Rocket Ship</label>
    <table class="table table-striped table-condensed table-bordered" style="width: auto;">
        <tr>
            <td></td>
            <td><b>Low</b></td>
            <td><b>Mid</b></td>
            <td><b>High</b></td>
        </tr>
        <tr>
            <td><b>Hatches</b></td>
            <td><button type=button class="btn btn-info btn-large" onClick="addOne(0)">Hatches:&nbsp;<p id="low_hatches">0</p></button></td>
            <td><button type=button class="btn btn-info btn-large" onClick="addOne(0)">Hatches:&nbsp;<p id="mid_hatches">0</p></button></td>
            <td><button type=button class="btn btn-info btn-large" onClick="addOne(0)">Hatches:&nbsp;<p id="high_hatches">0</p></button></td>
        </tr>
        <tr>
            <td><b>Cargo</b></td>
            <td><button type=button class="btn btn-warning btn-large" onClick="addOne(0)">Cargo:&nbsp;<p id="low_cargo">0</p></button></td>
            <td><button type=button class="btn btn-warning btn-large" onClick="addOne(0)">Cargo:&nbsp;<p id="mid_cargo">0</p></button></td>
            <td><button type=button class="btn btn-warning btn-large" onClick="addOne(0)">Cargo:&nbsp;<p id="high_cargo">0</p></button></td>
        </tr>
    </table>

    <label>Cargo Ship</label>
    <button type=button class="btn btn-info btn-large" onClick="addOne(0)">Hatches:&nbsp;<p id="c_hatches">0</p></button>
    <input type=hidden name="cargoship_hatches" value="0" id="cargoship_hatches">
    <button type=button class="btn btn-warning btn-large" onClick="addOne(1)">Cargo:&nbsp;<p id="c_cargo">0</p></button>
    <input type=hidden name="cargoship_cargo" value="0" id="cargoship_cargo">

    <br>

    <label>Dropped Pieces</label>
    <button type=button class="btn btn-info btn-large" onClick="addOne(0)">Hatches:&nbsp;<p id="d_hatches">0</p></button>
    <input type=hidden name="dropped_hatches" value="0" id="dropped_hatches">
    <button type=button class="btn btn-warning btn-large" onClick="addOne(1)">Cargo:&nbsp;<p id="d_cargo">0</p></button>
    <input type=hidden name="dropped_cargo" value="0" id="dropped_cargo">

    <h3>Endgame</h3>
    <label>Climb</label>
    <select name="climb" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="0">Nothing</option>
        <option value="1">Level 1</option>
        <option value="2">Level 2</option>
        <option value="3">Level 3</option>
    </select>

    <label>Result</label>
    <select name="result" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="win">Win</option>
        <option value="lose">Lose</option>
        <option value="tie">Tie</option>
    </select>

    <h3>Miscellaneous</h3>
    <label>Has Ramps for Buddy Climb</label>
    <select name="buddy_climb" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
        <option value="unsure">Unsure</option>
    </select>

    <label>Just a Ramp Bot</label>
    <select name="ramp_bot" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
    </select>   

    <label>Hatch Ground Pickup</label>
    <select name="hatch_ground_pickup" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
        <option value="unsure">Unsure</option>
    </select>

    <label>Cargo Ground Pickup</label>
    <select name="cargo_ground_pickup" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
        <option value="unsure">Unsure</option>
    </select>   

    <label>Hatch Human Intake</label>
    <select name="hatch_human_intake" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
        <option value="unsure">Unsure</option>
    </select>

    <label>Cargo Human Intake</label>
    <select name="cargo_human_intake" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
        <option value="unsure">Unsure</option>
    </select>

    <label>Driver Skill</label>
    <select name="driver_skill" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="4">Amazing</option>
        <option value="3">Good</option>
        <option value="2">Fair</option>
        <option value="1">Poor</option>
    </select>   

    <label>Played Defense</label>
    <select name="played_defense" required>
        <option value="" selected disabled hidden>Select Option</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
    </select>   

    

    <br><br>
    <input type=hidden name="comp_id" value="<%= @competition.id %>">

    <label><input type="submit" class="btn btn-success btn-medium" value="Save Info"></label>
  </form>
</div>

<script type="text/javascript">
    var sandstorm = [0, 0];
    function addOne(i) {
        sandstorm[i]++;
        document.getElementById("s_hatches").innerHTML = sandstorm[0];
        document.getElementById("sand_hatches").value = sandstorm[0];
        document.getElementById("s_cargo").innerHTML = sandstorm[1];
        document.getElementById("sand_cargo").value = sandstorm[1];
    };
</script>

<%= erb :footer %>
